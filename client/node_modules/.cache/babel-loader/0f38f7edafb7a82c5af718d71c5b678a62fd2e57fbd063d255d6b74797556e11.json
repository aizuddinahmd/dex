{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CollectionNameBuilder = void 0;\nvar CollectionNameBuilder = /** @class */function () {\n  function CollectionNameBuilder() {\n    this.cache = {};\n    this.cacheLimit = 256;\n  }\n  CollectionNameBuilder.prototype.build = function (tag) {\n    var result = this.cache[tag];\n    if (!result) {\n      result = this.process(tag);\n      if (this.cacheLimit > 0) {\n        // Simple anti DDOS protection.\n        this.cache[tag] = result;\n        this.cacheLimit--;\n      }\n    }\n    return result;\n  };\n  CollectionNameBuilder.prototype.process = function (tag) {\n    var parts = tag.split(/[^a-zA-Z0-9_]/).filter(function (p) {\n      return !!p;\n    }).map(function (p) {\n      return p.substring(0, 1).toUpperCase() + p.substring(1).toLowerCase();\n    });\n    if (parts.length < 1) {\n      throw new Error(\"Cannot build table name from value \\\"\".concat(tag, \"\\\"\"));\n    }\n    return parts.join('');\n  };\n  return CollectionNameBuilder;\n}();\nexports.CollectionNameBuilder = CollectionNameBuilder;","map":{"version":3,"mappings":";;;;;;AAAA;EAAA;IACmB,UAAK,GAA2B,EAAE;IAC3C,eAAU,GAAG,GAAG;EA2B1B;EAzBSA,qCAAK,GAAZ,UAAaC,GAAW;IACtB,IAAIC,MAAM,GAAG,IAAI,CAACC,KAAK,CAACF,GAAG,CAAC;IAC5B,IAAI,CAACC,MAAM,EAAE;MACXA,MAAM,GAAG,IAAI,CAACE,OAAO,CAACH,GAAG,CAAC;MAC1B,IAAI,IAAI,CAACI,UAAU,GAAG,CAAC,EAAE;QACvB;QACA,IAAI,CAACF,KAAK,CAACF,GAAG,CAAC,GAAGC,MAAM;QACxB,IAAI,CAACG,UAAU,EAAE;;;IAGrB,OAAOH,MAAM;EACf,CAAC;EAEOF,uCAAO,GAAf,UAAgBC,GAAW;IACzB,IAAMK,KAAK,GAAGL,GAAG,CACdM,KAAK,CAAC,eAAe,CAAC,CACtBC,MAAM,CAAC,UAACC,CAAC;MAAK,QAAC,CAACA,CAAC;IAAH,CAAG,CAAC,CAClBC,GAAG,CAAC,UAACD,CAAC;MACL,OAAOA,CAAC,CAACE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGH,CAAC,CAACE,SAAS,CAAC,CAAC,CAAC,CAACE,WAAW,EAAE;IACvE,CAAC,CAAC;IACJ,IAAIP,KAAK,CAACQ,MAAM,GAAG,CAAC,EAAE;MACpB,MAAM,IAAIC,KAAK,CAAC,+CAAuCd,GAAG,OAAG,CAAC;;IAEhE,OAAOK,KAAK,CAACU,IAAI,CAAC,EAAE,CAAC;EACvB,CAAC;EACH,4BAAC;AAAD,CAAC,EA7BD;AAAaC","names":["CollectionNameBuilder","tag","result","cache","process","cacheLimit","parts","split","filter","p","map","substring","toUpperCase","toLowerCase","length","Error","join","exports"],"sources":["../../../src/mapping/common/CollectionNameBuilder.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}