{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContractEventsOperation = void 0;\nvar common_core_1 = require(\"@moralisweb3/common-core\");\nvar dataTypes_1 = require(\"../../dataTypes\");\nvar EvmChainResolver_1 = require(\"../../EvmChainResolver\");\n/** Get events for a contract ordered by block number in descending order. */\nexports.getContractEventsOperation = {\n  method: 'POST',\n  name: 'getContractEvents',\n  id: 'getContractEvents',\n  groupName: 'events',\n  urlPathPattern: '/{address}/events',\n  urlPathParamNames: ['address'],\n  urlSearchParamNames: ['chain', 'fromBlock', 'toBlock', 'fromDate', 'toDate', 'topic', 'offset', 'limit', 'disableTotal'],\n  bodyParamNames: ['abi'],\n  bodyType: 'raw',\n  firstPageIndex: 0,\n  getRequestUrlParams: getRequestUrlParams,\n  getRequestBody: getRequestBody,\n  serializeRequest: serializeRequest,\n  deserializeRequest: deserializeRequest,\n  deserializeResponse: deserializeResponse\n};\n// Methods\nfunction getRequestUrlParams(request, core) {\n  return {\n    chain: EvmChainResolver_1.EvmChainResolver.resolve(request.chain, core).apiHex,\n    from_block: (0, common_core_1.maybe)(request.fromBlock, String),\n    to_block: (0, common_core_1.maybe)(request.toBlock, String),\n    from_date: request.fromDate ? new Date(request.fromDate).toISOString() : undefined,\n    to_date: request.toDate ? new Date(request.toDate).toISOString() : undefined,\n    topic: request.topic,\n    offset: (0, common_core_1.maybe)(request.offset, String),\n    limit: (0, common_core_1.maybe)(request.limit, String),\n    address: dataTypes_1.EvmAddress.create(request.address, core).lowercase,\n    disable_total: request.disableTotal\n  };\n}\nfunction getRequestBody(request) {\n  return request.abi;\n}\nfunction deserializeResponse(jsonResponse, request, core) {\n  var _a, _b;\n  return (_b = (_a = jsonResponse.result) !== null && _a !== void 0 ? _a : []) === null || _b === void 0 ? void 0 : _b.map(function (event) {\n    return dataTypes_1.EvmEvent.create({\n      chain: EvmChainResolver_1.EvmChainResolver.resolve(request.chain, core),\n      address: request.address,\n      blockHash: event.block_hash,\n      blockNumber: event.block_number,\n      blockTimestamp: event.block_timestamp,\n      transactionHash: event.transaction_hash,\n      data: {\n        to: event.data.to,\n        from: event.data.from,\n        value: event.data.value\n      }\n    }, core);\n  });\n}\nfunction serializeRequest(request, core) {\n  return {\n    chain: EvmChainResolver_1.EvmChainResolver.resolve(request.chain, core).apiHex,\n    fromBlock: request.fromBlock,\n    toBlock: request.toBlock,\n    fromDate: request.fromDate ? new Date(request.fromDate).toISOString() : undefined,\n    toDate: request.toDate ? new Date(request.toDate).toISOString() : undefined,\n    topic: request.topic,\n    offset: request.offset,\n    limit: request.limit,\n    address: dataTypes_1.EvmAddress.create(request.address, core).lowercase,\n    abi: request.abi,\n    disableTotal: request.disableTotal\n  };\n}\nfunction deserializeRequest(jsonRequest, core) {\n  return {\n    chain: dataTypes_1.EvmChain.create(jsonRequest.chain, core),\n    fromBlock: jsonRequest.fromBlock,\n    toBlock: jsonRequest.toBlock,\n    fromDate: jsonRequest.fromDate ? new Date(jsonRequest.fromDate) : undefined,\n    toDate: jsonRequest.toDate ? new Date(jsonRequest.toDate) : undefined,\n    topic: jsonRequest.topic,\n    offset: jsonRequest.offset,\n    limit: jsonRequest.limit,\n    address: dataTypes_1.EvmAddress.create(jsonRequest.address, core),\n    abi: jsonRequest.abi,\n    disableTotal: jsonRequest.disableTotal\n  };\n}","map":{"version":3,"mappings":"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","names":["exports","method","name","id","groupName","urlPathPattern","urlPathParamNames","urlSearchParamNames","bodyParamNames","bodyType","firstPageIndex","getRequestUrlParams","getRequestBody","serializeRequest","deserializeRequest","deserializeResponse","request","core","chain","EvmChainResolver_1","resolve","apiHex","from_block","fromBlock","String","to_block","toBlock","from_date","fromDate","Date","toISOString","undefined","to_date","toDate","topic","offset","limit","address","dataTypes_1","create","lowercase","disable_total","disableTotal","abi","jsonResponse","result","map","event","blockHash","block_hash","blockNumber","block_number","blockTimestamp","block_timestamp","transactionHash","transaction_hash","data","to","from","value","jsonRequest"],"sources":["../../../src/operations/events/getContractEventsOperation.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}