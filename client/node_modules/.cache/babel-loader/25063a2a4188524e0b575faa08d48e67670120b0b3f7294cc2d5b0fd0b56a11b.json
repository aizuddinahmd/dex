{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StreamSelector = void 0;\nvar common_core_1 = require(\"@moralisweb3/common-core\");\n/**\n * The StreamSelector class is a representation of a stream selector\n *\n * Use this class any time you want to use a value in your stream trigger data that is not a static value\n *\n * @category DataType\n */\nvar StreamSelector = /** @class */function () {\n  /**\n   * Create a new instance of StreamSelector from any valid stream data field\n   *\n   * @example\n   * ```\n   * const receiverSelector = StreamSelector.create('$to')\n   * const selector = StreamSelector.create('$contract')\n   * ```\n   */\n  function StreamSelector(data) {\n    this._value = StreamSelector.parse(data);\n  }\n  StreamSelector.isSelectorString = function (selector) {\n    if (selector instanceof StreamSelector) {\n      return true;\n    }\n    return selector.startsWith('$');\n  };\n  StreamSelector.create = function (streamSelector) {\n    if (streamSelector instanceof StreamSelector) {\n      return streamSelector;\n    }\n    return new StreamSelector(streamSelector);\n  };\n  StreamSelector.parse = function (streamSelector) {\n    if (!StreamSelector.isSelectorString(streamSelector)) {\n      throw new common_core_1.CoreError({\n        code: common_core_1.CoreErrorCode.INVALID_ARGUMENT,\n        message: 'Invalid selector string provided'\n      });\n    }\n    return streamSelector;\n  };\n  /**\n   * Compares two StreamSelector data. It checks a deep equality check of both values.\n   * @param valueA - the first StreamSelectorish data to compare\n   * @param valueB - the second StreamSelectorish data to compare\n   * @returns true if the values are equal, false otherwise\n   * @example\n   * ```ts\n   *  StreamSelector.equals(valueA, valueB);\n   * ```\n   */\n  StreamSelector.equals = function (valueA, valueB) {\n    var streamSelectorA = StreamSelector.create(valueA);\n    var streamSelectorB = StreamSelector.create(valueB);\n    return streamSelectorA.value === streamSelectorB.value;\n  };\n  /**\n   * Compares an StreamSelectorish data to this StreamSelector instance.\n   * @param streamSelector - the streamSelector to compare\n   * @returns true if the streamSelector is equal to the current instance, false otherwise\n   * @example\n   * ```ts\n   * streamSelector.equals(streamSelector);\n   * ```\n   */\n  StreamSelector.prototype.equals = function (streamSelector) {\n    return StreamSelector.equals(this, streamSelector);\n  };\n  /**\n   * Converts the StreamSelector instance to a JSON object.\n   * @returns JSON object of the StreamSelector instance\n   * @example `streamSelector.format()`\n   */\n  StreamSelector.prototype.format = function () {\n    return this.value;\n  };\n  Object.defineProperty(StreamSelector.prototype, \"value\", {\n    /**\n     * @returns the selector path\n     * @example '$from'\n     */\n    get: function () {\n      return this._value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return StreamSelector;\n}();\nexports.StreamSelector = StreamSelector;","map":{"version":3,"mappings":";;;;;;AAAA;AAaA;;;;;;;AAOA;EAGE;;;;;;;;;EASA,wBAAYA,IAAyB;IACnC,IAAI,CAACC,MAAM,GAAGC,cAAc,CAACC,KAAK,CAACH,IAAI,CAAC;EAC1C;EAEOE,+BAAgB,GAAvB,UAAwBE,QAA2B;IACjD,IAAIA,QAAQ,YAAYF,cAAc,EAAE;MACtC,OAAO,IAAI;;IAGb,OAAOE,QAAQ,CAACC,UAAU,CAAC,GAAG,CAAC;EACjC,CAAC;EAEMH,qBAAM,GAAb,UAAcI,cAAiC;IAC7C,IAAIA,cAAc,YAAYJ,cAAc,EAAE;MAC5C,OAAOI,cAAc;;IAEvB,OAAO,IAAIJ,cAAc,CAACI,cAAc,CAAC;EAC3C,CAAC;EAEcJ,oBAAK,GAApB,UAAqBI,cAAmC;IACtD,IAAI,CAACJ,cAAc,CAACK,gBAAgB,CAACD,cAAc,CAAC,EAAE;MACpD,MAAM,IAAIE,uBAAS,CAAC;QAClBC,IAAI,EAAED,2BAAa,CAACE,gBAAgB;QACpCC,OAAO,EAAE;OACV,CAAC;;IAGJ,OAAOL,cAAc;EACvB,CAAC;EAED;;;;;;;;;;EAUOJ,qBAAM,GAAb,UAAcU,MAAyB,EAAEC,MAAyB;IAChE,IAAMC,eAAe,GAAGZ,cAAc,CAACa,MAAM,CAACH,MAAM,CAAC;IACrD,IAAMI,eAAe,GAAGd,cAAc,CAACa,MAAM,CAACF,MAAM,CAAC;IAErD,OAAOC,eAAe,CAACG,KAAK,KAAKD,eAAe,CAACC,KAAK;EACxD,CAAC;EAED;;;;;;;;;EASAf,+BAAM,GAAN,UAAOI,cAAiC;IACtC,OAAOJ,cAAc,CAACgB,MAAM,CAAC,IAAI,EAAEZ,cAAc,CAAC;EACpD,CAAC;EAED;;;;;EAKAJ,+BAAM,GAAN;IACE,OAAO,IAAI,CAACe,KAAK;EACnB,CAAC;EAMDE,sBAAIjB,iCAAK;IAJT;;;;SAIA;MACE,OAAO,IAAI,CAACD,MAAM;IACpB,CAAC;;;;EACH,qBAAC;AAAD,CAAC,EAxFD;AAAamB","names":["data","_value","StreamSelector","parse","selector","startsWith","streamSelector","isSelectorString","common_core_1","code","INVALID_ARGUMENT","message","valueA","valueB","streamSelectorA","create","streamSelectorB","value","equals","Object","exports"],"sources":["../../../src/dataTypes/StreamSelector/StreamSelector.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}