{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseLog = void 0;\nvar common_core_1 = require(\"@moralisweb3/common-core\");\nvar logDecoderUtils_1 = require(\"../utils/logDecoderUtils\");\nvar mapping_1 = require(\"../mapping\");\nvar parseLog = function (webhookData) {\n  if (!(0, logDecoderUtils_1.isWebhook)(webhookData)) {\n    throw new common_core_1.MoralisStreamError({\n      code: common_core_1.StreamErrorCode.GENERIC_STREAM_ERROR,\n      message: 'Cannot decode the logs. No logs found in the webhook, or invalid webhook provided.'\n    });\n  }\n  if (!(0, logDecoderUtils_1.hasAbis)(webhookData)) {\n    throw new common_core_1.MoralisStreamError({\n      code: common_core_1.StreamErrorCode.GENERIC_STREAM_ERROR,\n      message: 'Cannot decode the logs. No abis found in the provided webhook.'\n    });\n  }\n  var logs = webhookData.logs,\n    abi = webhookData.abi;\n  var decodedLogs = [];\n  logs.forEach(function (currentLog) {\n    var params = new mapping_1.LogParser(abi).read(currentLog).params;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var decodedLog = {};\n    for (var key in params) {\n      if (Object.prototype.hasOwnProperty.call(params, key)) {\n        var element = params[key];\n        decodedLog[key] = element.value;\n      }\n    }\n    decodedLogs.push(decodedLog);\n  });\n  return decodedLogs;\n};\nexports.parseLog = parseLog;","map":{"version":3,"mappings":";;;;;;AAAA;AAEA;AACA;AAEO,IAAMA,QAAQ,GAAG,UAAQC,WAAqB;EACnD,IAAI,CAAC,+BAAS,EAACA,WAAW,CAAC,EAAE;IAC3B,MAAM,IAAIC,gCAAkB,CAAC;MAC3BC,IAAI,EAAED,6BAAe,CAACE,oBAAoB;MAC1CC,OAAO,EAAE;KACV,CAAC;;EAGJ,IAAI,CAAC,6BAAO,EAACJ,WAAW,CAAC,EAAE;IACzB,MAAM,IAAIC,gCAAkB,CAAC;MAC3BC,IAAI,EAAED,6BAAe,CAACE,oBAAoB;MAC1CC,OAAO,EAAE;KACV,CAAC;;EAGI,QAAI,GAAUJ,WAAW,KAArB;IAAEK,GAAG,GAAKL,WAAW,IAAhB;EAEjB,IAAMM,WAAW,GAAY,EAAE;EAE/BC,IAAI,CAACC,OAAO,CAAC,UAACC,UAAU;IACd,UAAM,GAAK,IAAIC,mBAAS,CAACL,GAAG,CAAC,CAACM,IAAI,CAACF,UAAU,CAAC,OAAxC;IACd;IACA,IAAMG,UAAU,GAAQ,EAAE;IAC1B,KAAK,IAAMC,GAAG,IAAIC,MAAM,EAAE;MACxB,IAAIC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAED,GAAG,CAAC,EAAE;QACrD,IAAMM,OAAO,GAAGL,MAAM,CAACD,GAAG,CAAC;QAC3BD,UAAU,CAACC,GAAG,CAAC,GAAGM,OAAO,CAACC,KAAK;;;IAGnCd,WAAW,CAACe,IAAI,CAACT,UAAmB,CAAC;EACvC,CAAC,CAAC;EAEF,OAAON,WAAW;AACpB,CAAC;AAjCYgB,gBAAQ","names":["parseLog","webhookData","common_core_1","code","GENERIC_STREAM_ERROR","message","abi","decodedLogs","logs","forEach","currentLog","mapping_1","read","decodedLog","key","params","Object","prototype","hasOwnProperty","call","element","value","push","exports"],"sources":["../../src/methods/logParser.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}